extends layout

prepend title
  unless path
    - let path = 'search';
  unless title
    - let title = 'Joinable';
  unless uname
    - let uname = user.username;
  - gamename = title+' Games';

mixin pages
  if count > 1
    nav(aria-label="Page navigation")
      ul.pagination
        li.page-item
          a.page-link(href='/'+path+'/1') First
        - for(let i=Math.max(1,page-3); i<Math.min(page+4,count); ++i) {
          li.page-item
            if page === i
              a(class="page-link disabled" href='#') #{i}
            else
              a.page-link(href='/'+path+'/'+i) #{i}
        - }
        li.page-item
          a.page-link(href='/'+path+'/'+(count-1)) Last

block content
  div.content
    +pages
    
    if games && Object.keys(games).length > 0
      - let gamesarray = games
      include gamestable
    else
      h3 No Games Found
    +pages
    
    div
      a(class="btn btn-primary" href="/create") Create New Game
      
