extends layout

prepend title
  unless path
    - path = 'search';
  unless title
    - title = 'Joinable';
  unless uname
    - uname = user.username;
  - gamename = title;

mixin pages
  if count > 1
    nav(aria-label="Page navigation")
      ul.pagination
        li.page-item
          a.page-link(href='/'+path+'/1') #{lang.first_page}
        - for(let i=Math.max(2,page-3); i<Math.min(page+4,count); ++i) {
          li.page-item
            if page === i
              a(class="page-link disabled" href='#') #{i}
            else
              a.page-link(href='/'+path+'/'+i) #{i}
        - }
        li.page-item
          a.page-link(href='/'+path+'/'+(count)) #{lang.last_page}

block content
  div.content
    +pages

    if games && Object.keys(games).length > 0
      - let gamesarray = games
      include gamestable
    else
      h3 #{lang.none_found}

    +pages
    
    div
      a(class="btn btn-primary" href="/create") #{lang.create_new}
      
